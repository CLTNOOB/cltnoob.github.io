<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YouBusiness</title>

<style>
body{
  background:#0f0f0f;
  color:#fff;
  font-family:Arial;
  text-align:center;
  margin:0;
}
button{
  padding:10px;
  margin:5px;
  border:none;
  border-radius:8px;
  cursor:pointer;
}
.aba{display:none}
canvas{background:#111;border:1px solid #444}
</style>
</head>

<body>

<h1>ğŸ’¼ YouBusiness</h1>
<p>ğŸ’° Dinheiro: <span id="dinheiro">0</span></p>
<p>ğŸ“ˆ Renda por clique: <span id="renda">1</span></p>

<button onclick="ganhar()">Ganhar dinheiro</button>
<button onclick="upgrade()">Upgrade (custo: <span id="custoUp">100</span>)</button>

<hr>

<button onclick="abrir('investimentos')">ğŸ¦ Investimentos</button>
<button onclick="abrir('loja')">ğŸ›’ Loja</button>
<button onclick="abrir('galeria')">ğŸ–¼ï¸ Galeria</button>
<button onclick="abrir('graficos')">ğŸ“Š GrÃ¡ficos</button>

<!-- INVESTIMENTOS -->
<div id="investimentos" class="aba">
  <h2>ğŸ¦ Investimentos Fixos</h2>
  <button onclick="comprarInvest('Casa',5000,50)">Casa (5000)</button>
  <button onclick="comprarInvest('Loja',15000,150)">Loja (15000)</button>
  <button onclick="comprarInvest('PrÃ©dio',50000,500)">PrÃ©dio (50000)</button>
</div>

<!-- LOJA -->
<div id="loja" class="aba">
  <h2>ğŸ›’ Loja</h2>
  <button onclick="comprarVeiculo('BMW',120000)">BMW</button>
  <button onclick="comprarCasa('Casa de luxo',300000)">Casa de luxo</button>
  <button onclick="comprarVeiculo('AviÃ£o',1000000)">AviÃ£o</button>
</div>

<!-- GALERIA -->
<div id="galeria" class="aba">
  <h2>ğŸ–¼ï¸ Galeria</h2>
  <button onclick="mostrarVeiculos()">ğŸš— VeÃ­culos</button>
  <button onclick="mostrarCasas()">ğŸ  Casas</button>
  <div id="listaGaleria"></div>
</div>

<!-- GRÃFICOS -->
<div id="graficos" class="aba">
  <h2>ğŸ“Š GrÃ¡ficos (Trade)</h2>
  <input type="number" id="valorInvest" value="100">
  <br>
  <button onclick="iniciarGrafico()">â¬† Iniciar</button>
  <button onclick="pararGrafico()">â›” Parar</button>
  <br><br>
  <canvas id="grafico" width="300" height="200"></canvas>
  <p>Resultado: <span id="resultado">0</span></p>
</div>

<script>
/* ===== VARIÃVEIS ===== */
let dinheiro = 0;
let renda = 1;
let custoUpgrade = 100;
let rendaPassiva = 0;

let veiculos = [];
let casas = [];

/* ===== SAVE ===== */
function salvar(){
  localStorage.setItem("save", JSON.stringify({
    dinheiro,renda,custoUpgrade,rendaPassiva,veiculos,casas
  }));
}
function carregar(){
  let s = JSON.parse(localStorage.getItem("save"));
  if(!s) return;
  dinheiro=s.dinheiro;
  renda=s.renda;
  custoUpgrade=s.custoUpgrade;
  rendaPassiva=s.rendaPassiva;
  veiculos=s.veiculos;
  casas=s.casas;
}
carregar();

/* ===== INTERFACE ===== */
function atualizar(){
  document.getElementById("dinheiro").innerText = Math.floor(dinheiro);
  document.getElementById("renda").innerText = renda;
  document.getElementById("custoUp").innerText = custoUpgrade;
  salvar();
}
atualizar();

/* ===== CLICK ===== */
function ganhar(){
  dinheiro += renda;
  atualizar();
}

/* ===== UPGRADE ===== */
function upgrade(){
  if(dinheiro < custoUpgrade) return;
  dinheiro -= custoUpgrade;
  renda++;
  custoUpgrade = Math.floor(custoUpgrade * 1.2);
  atualizar();
}

/* ===== ABAS ===== */
function abrir(id){
  document.querySelectorAll(".aba").forEach(a=>a.style.display="none");
  document.getElementById(id).style.display="block";
}

/* ===== INVESTIMENTOS FIXOS ===== */
function comprarInvest(nome,custo,ganho){
  if(dinheiro < custo) return;
  dinheiro -= custo;
  rendaPassiva += ganho;
  atualizar();
}
setInterval(()=>{
  dinheiro += rendaPassiva;
  atualizar();
},30000);

/* ===== LOJA ===== */
function comprarVeiculo(nome,preco){
  if(dinheiro<preco) return;
  dinheiro-=preco;
  veiculos.push({nome,preco});
  atualizar();
}
function comprarCasa(nome,preco){
  if(dinheiro<preco) return;
  dinheiro-=preco;
  casas.push({nome,preco});
  atualizar();
}

/* ===== GALERIA ===== */
function mostrarVeiculos(){
  let d="";
  veiculos.forEach(v=>d+=`${v.nome} - ${v.preco}<br>`);
  document.getElementById("listaGaleria").innerHTML=d||"Nenhum";
}
function mostrarCasas(){
  let d="";
  casas.forEach(c=>d+=`${c.nome} - ${c.preco}<br>`);
  document.getElementById("listaGaleria").innerHTML=d||"Nenhuma";
}

/* ===== GRÃFICOS ===== */
let ctx = document.getElementById("grafico").getContext("2d");
let pontos=[100], rodando=false, intervalo, investido=0, resultado=0;

function desenhar(){
  ctx.clearRect(0,0,300,200);
  ctx.beginPath();
  ctx.strokeStyle="lime";
  pontos.forEach((p,i)=>{
    let x=i*(300/pontos.length);
    let y=200-p;
    if(i==0)ctx.moveTo(x,y); else ctx.lineTo(x,y);
  });
  ctx.stroke();
}

function iniciarGrafico(){
  if(rodando) return;
  investido = Number(document.getElementById("valorInvest").value);
  if(dinheiro<investido) return;
  dinheiro-=investido;
  pontos=[100];
  resultado=0;
  rodando=true;
  intervalo=setInterval(()=>{
    let v=Math.floor(Math.random()*21-10);
    let n=pontos[pontos.length-1]+v;
    if(n<10)n=10;if(n>190)n=190;
    pontos.push(n); if(pontos.length>30)pontos.shift();
    resultado+=v*(investido/100);
    document.getElementById("resultado").innerText=Math.floor(resultado);
    desenhar(); atualizar();
  },500);
}

function pararGrafico(){
  if(!rodando) return;
  clearInterval(intervalo);
  rodando=false;
  dinheiro+=Math.floor(investido+resultado);
  resultado=0;
  atualizar();
}
</script>

</body>
</html>
